{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\rdesa\\\\Desktop\\\\LambdaSchool\\\\front-end-project-week\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\rdesa\\\\Desktop\\\\LambdaSchool\\\\front-end-project-week\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\rdesa\\\\Desktop\\\\LambdaSchool\\\\front-end-project-week\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\rdesa\\\\Desktop\\\\LambdaSchool\\\\front-end-project-week\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\rdesa\\\\Desktop\\\\LambdaSchool\\\\front-end-project-week\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\rdesa\\\\Desktop\\\\LambdaSchool\\\\front-end-project-week\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\rdesa\\\\Desktop\\\\LambdaSchool\\\\front-end-project-week\\\\src\\\\components\\\\Form.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _this.changeHandler = function (event) {\n      event.preventDefault();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      if (event.target.name === 'tags') {\n        console.log(_this.state.tags.split(','));\n      }\n    };\n\n    _this.submitHandler = function (event) {\n      event.preventDefault();\n\n      if (_this.state.title !== '' && _this.state.body !== '') {\n        // create a new note\n        var newNote = {\n          tags: _this.state.tags.split(','),\n          title: _this.state.title,\n          textBody: _this.state.body // if there's a note on state to edit, start PUT\n\n        };\n\n        if (_this.state.note !== null) {\n          axios.put(\"https://fe-notes.herokuapp.com/note/edit/\".concat(_this.state.note._id), newNote).then(function (res) {\n            console.log(res);\n          }).catch(function (err) {\n            console.log(err);\n          });\n        } // else POST\n        else {\n            axios.post('https://fe-notes.herokuapp.com/note/create', newNote).then(function (res) {\n              console.log(res);\n            }).catch(function (err) {\n              return console.log(err);\n            });\n          } // blank out everything.\n\n\n        _this.setState({\n          added: true,\n          title: '',\n          body: '',\n          note: null\n        });\n      } // alert user to fill form if not complete\n      else {\n          alert('Please fill out the form!');\n        }\n    };\n\n    _this.state = {\n      title: '',\n      body: '',\n      tags: '',\n      added: false,\n      note: null\n    };\n    return _this;\n  } // if the user has clicked on an edit button, some data will get filled on state related to that note.\n\n\n  _createClass(Form, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.location.state !== undefined) {\n        this.setState({\n          note: this.props.location.state.note,\n          title: this.props.location.state.note.title,\n          body: this.props.location.state.note.textBody,\n          tags: this.props.location.state.note.tags\n        });\n      }\n\n      this.setState({\n        added: false\n      });\n    } // standard change handler.\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      // once form is submitted, redirect home.\n      // if (this.state.added === true) {\n      //     return (\n      //         <Redirect to='/'></Redirect>\n      //     )\n      // }\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.state.note !== null ? 'Edit Note:' : 'Add Note:'), React.createElement(\"form\", {\n        onSubmit: this.submitHandler,\n        autoComplete: \"off\",\n        className: \"fullpage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"title\",\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Title your note...\",\n        defaultValue: this.state.note !== null ? this.state.note.title : this.props.value,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        className: \"body\",\n        name: \"body\",\n        placeholder: \"The main text of your note goes here...\",\n        value: this.state.note !== null ? this.state.body : this.props.value,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"tags\",\n        type: \"text\",\n        name: \"tags\",\n        placeholder: \"Tag your note (comma-separated)\",\n        defaultValue: this.state.note !== null ? this.state.note.tags : this.props.value,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["C:\\Users\\rdesa\\Desktop\\LambdaSchool\\front-end-project-week\\src\\components\\Form.js"],"names":["React","Component","Redirect","axios","Form","props","changeHandler","event","preventDefault","setState","target","name","value","console","log","state","tags","split","submitHandler","title","body","newNote","textBody","note","put","_id","then","res","catch","err","post","added","alert","location","undefined"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport axios from 'axios';\n\nclass Form extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            body: '',\n            tags: '',\n            added: false,\n            note: null,\n        }\n    }\n\n    // if the user has clicked on an edit button, some data will get filled on state related to that note.\n    componentDidMount() {\n        if (this.props.location.state !== undefined) {\n            this.setState({\n                note: this.props.location.state.note,\n                title: this.props.location.state.note.title,\n                body: this.props.location.state.note.textBody,\n                tags: this.props.location.state.note.tags,\n            })\n        }\n        this.setState({\n            added: false,\n        })\n    }\n\n    // standard change handler.\n    changeHandler = event => {\n        event.preventDefault();\n        this.setState({\n            [event.target.name]: event.target.value,\n        })\n        if (event.target.name === 'tags') {\n            console.log(this.state.tags.split(','))\n        }\n    }\n\n    // controls add and edit functionality, with blank form error handling.\n    submitHandler = event => {\n        event.preventDefault();\n        if (this.state.title !== '' && this.state.body !== '') {\n          // create a new note\n          const newNote = {\n            tags: this.state.tags.split(','),\n            title: this.state.title,\n            textBody: this.state.body,\n          }\n          // if there's a note on state to edit, start PUT\n          if (this.state.note !== null) {\n            axios.put(`https://fe-notes.herokuapp.com/note/edit/${this.state.note._id}`, newNote)\n                 .then(res => {console.log(res)})\n                 .catch(err => {console.log(err)})\n          }\n          // else POST\n          else {\n            axios.post('https://fe-notes.herokuapp.com/note/create', newNote)\n                 .then(res => {console.log(res)})\n                 .catch(err => console.log(err))\n          }\n          // blank out everything.\n          this.setState({\n              added: true,\n              title: '',\n              body: '',\n              note: null,\n          })\n        }\n        // alert user to fill form if not complete\n        else {\n          alert('Please fill out the form!')\n        }\n      }\n\n\n    render() {\n        // once form is submitted, redirect home.\n        // if (this.state.added === true) {\n        //     return (\n        //         <Redirect to='/'></Redirect>\n        //     )\n        // }\n        return (\n            <div className='container'>\n                <h1>{this.state.note !== null ? 'Edit Note:' : 'Add Note:'}</h1>\n                <form onSubmit={this.submitHandler} autoComplete='off' className='fullpage'>\n\n                    <input \n                        className='title'\n                        type='text' \n                        name='title' \n                        placeholder='Title your note...' \n                        defaultValue={this.state.note !== null ? this.state.note.title : this.props.value}\n                        onChange={this.changeHandler}\n                    />\n\n                    <textarea  \n                        className='body'\n                        name='body' \n                        placeholder='The main text of your note goes here...' \n                        value={this.state.note !== null ? this.state.body : this.props.value}\n                        onChange={this.changeHandler}>\n                    </textarea>\n\n                    <input \n                        className='tags'\n                        type='text' \n                        name='tags' \n                        placeholder='Tag your note (comma-separated)' \n                        defaultValue={this.state.note !== null ? this.state.note.tags : this.props.value}\n                        onChange={this.changeHandler}\n                    />\n                    \n                    <input type='submit' />\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}